%\section{Implementation of the new partial-sum attack on 6 rounds \AES}\label{sec:attack_aes}
%\input{algo/FHT_partial_sum.tex}
%\subsection{Explantion of Gaetan's trick}
%Here let us explain the last \tcr{red} color $\mathsf{for}$ loop in the Algorithm~\ref{alg:fht}. We are basically computing a convolution of two function $f:\mathbb{F}_2^8 \to \mathbb{F}_2$ and $g:\mathbb{F}_2^8 \to \mathbb{F}_2^8$ such that
%\begin{align*}
%    f(c) = \begin{cases}
%       1, \text{ if $\mathcal{C}[i][k_3][c] = 1$ for some fixed $i$ and $k_3$}\\
%       0, \text{ otherwise} 
%    \end{cases}
%\end{align*} 
%and
%\begin{align*}
%    g(x) = S^{-1}(x).
%\end{align*} 

%So the convolution we are interested in is $f*g(k) = \sum_{c \in \mathbb{F}_2^8} f(c)g(c \oplus k)$ (However, in the end we need sum over $\mathbb{F}_2^8$, not over $\mathbb{Z}$, will deal with it later). We need to compute the above convolution for all $k \in \mathbb{F}_2^8$.

%Computing the convolution for all $k$ is actually a matrix-vector multiplication. The vector is $V = (f(0),....,f(2^8-1))$ and the matrix is $M$ where $M(i,j) = g(i\oplus j)$. Beacuse of the \emph{blockwise circular} property of the matrix we have the following equation
%\[
%M\cdot V = (1/2^8)H(H(C_1)\times H(V)) 
%\]
%where $H$ is a $2^8 \times 2^8$ Hadamard matrix and $C_1$ is the first column of $M$. These are the three Hadamard transformations that we need to compute.

%As the Hadamard matrix is over $\mathbb{Z}$ and not over $\mathbb{F}_2^8$, we can not compute the XOR sum as desired. So Todo's idea is to consider $g(x) = (g_0(x),...,g_7(x))$ and compute eight matrix-vector multiplications separately and finally combine them. Here Gaetan suggested considering a single matrix; however, each bit of each matrix element is separated by a few bits. For example if $M_{0x5,0x6} = g(0x5\oplus 0x6) = 0xFF$ and we consider $7$ bits seperation, then we write this as
%{\small$$00000000-0000001-0000001-0000001-0000001-0000001-0000001-0000001-0000001$$}

%\subsection{Experiment Detail}
%I tested the idea with random vectors $V$. I compute the following two things:
%\begin{itemize}
%   \item $U_1 = MV$, i.e., the convolution directly
%   \item $U_2 = (1/2^8)H(H(C_1)\times H(V))$ with $6,7$ or $8$ bit seperation
%\end{itemize}
%With a $7$ bit separation, I am always getting $U_1 = U_2$. However, for $6$ and $8$ bit separation I am always getting some positions of $U_1$ and $U_3$ are not equal.
%\subsection{Description of the attack}\label{sub:description_new_attack}

%The new attack with 6 $\Delta$-sets

%\subsection{Complexity analysis}\label{sub:complexity_new_attack}


%\subsection{Reducing the number of $\Delta$-sets}\label{sub:complexity_new_attack}



%\subsection{Experimental verification}\label{sub:experimental_verification}

